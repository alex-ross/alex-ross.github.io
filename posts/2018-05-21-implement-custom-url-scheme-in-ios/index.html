<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Alexander Ross"/><link rel="canonical" href="https://aross.se/posts/2018-05-21-implement-custom-url-scheme-in-ios"/><meta name="twitter:url" content="https://aross.se/posts/2018-05-21-implement-custom-url-scheme-in-ios"/><meta name="og:url" content="https://aross.se/posts/2018-05-21-implement-custom-url-scheme-in-ios"/><title>Implement custom URL scheme in iOS | Alexander Ross</title><meta name="twitter:title" content="Implement custom URL scheme in iOS | Alexander Ross"/><meta name="og:title" content="Implement custom URL scheme in iOS | Alexander Ross"/><meta name="description" content="I like to build apps, websites, other tools and solutions to make the day more fun and efficient. I want to share as much as possible here as often as possible. But normaly I end up with a few posts per year right now. Work and family takes time as well üòá."/><meta name="twitter:description" content="I like to build apps, websites, other tools and solutions to make the day more fun and efficient. I want to share as much as possible here as often as possible. But normaly I end up with a few posts per year right now. Work and family takes time as well üòá."/><meta name="og:description" content="I like to build apps, websites, other tools and solutions to make the day more fun and efficient. I want to share as much as possible here as often as possible. But normaly I end up with a few posts per year right now. Work and family takes time as well üòá."/><meta name="twitter:card" content="summary"/><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-55009015-1', 'auto');
ga('send', 'pageview');</script><link rel="stylesheet" href="/styles.css?v=5" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/ArossWebsite/favicon-96x96.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Alexander Ross"/><meta name="twitter:image" content="https://aross.se/ArossWebsite/logo.png"/><meta name="og:image" content="https://aross.se/ArossWebsite/logo.png"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">Alexander Ross</a></div></header><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4141599655973760" data-ad-slot="7238016739" data-ad-format="auto"></ins><div class="wrapper"><article><p>‚è± around 5 minutes read time</p><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/ios">ios</a></li><li><a href="/tags/development">development</a></li><li><a href="/tags/custom">custom</a></li></ul><div class="content"><h1>Implement custom URL scheme in iOS</h1><p>Custom URL schemes is a great way to enable automation in your application for power users or to allowing users or other developers to go to a view or a state in your app by using a URL just like browsing the web.</p><p>This blog post will help you create a application with a label that displays whatever URL it was open with. Using URLs can be very powerful and you could basically automate any tasks using them. But keep in mind to be responsible and validate the URLs later on, especially if your users has important data in the application and you allowing them to delete everything using an URL. Maybe you don't want that to happened just because the user clicked a link on the web.</p><p>You could for example in the same application, or from another one open this application with this code.</p><pre data-language="swift"><code><span class="hljs-type">UIApplication</span>.shared
  .<span class="hljs-keyword">open</span>(<span class="hljs-type">URL</span>(string: <span class="hljs-string">"urlviewer://HelloWorld"</span>)!,
        options: [:],
        completionHandler: <span class="hljs-literal">nil</span>)
</code></pre><p>You can use this feature also to link to places inside your own application</p><h2>Create the application</h2><p>Launch Xcode and create a new Xcode project. Select "iOS" and "Single View App". Name the project whatever you like. I will name my application "URLViewer". We will not use tests or core data right know so leave them unchecked. Make sure you select the language "Swift".</p><h2>Create a view where we can view that it works</h2><p>Open "Main.storyboard" and place a label into the middle of the screen. Add constraints around the label so it is 8 points from left, right, top and bottom of the safe area.</p><p>Select "Character Wrap" in the "Line Break" option to make sure that the URL will be fully displayed even if it's a long one.</p><p>Open the "ViewController.swift" file in the assistant editor by holding down option key while you click on the file in the file tree.</p><p>Select the label, then click and hold on the label while dragging the mouse cursor to the view controller. Drag the cursor to an empty place inside the view controller class and drop it where it fits, you will get an blue horizontal line where you can drop it. Name the outlet <code>urlLabel</code>. It should create a row that looks like this.</p><pre data-language="swift"><code><span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> urlLabel: <span class="hljs-type">UILabel!</span>
</code></pre><p>You should now be able to start the application and see that you have a simple label in the middle of the screen.</p><h2>Register the URL scheme</h2><p>Open the file "Info.plist" and add a new entry called "URL types". To add a new entry you can select any existing one, for example "Bundle name" and press the enter/return-key on your keyboard.</p><p>Expand "URL types" and the first child element, you will now see a element with the key "URL identifier". This should be the same identifier as your application. So it is easiest to enter <code>$(PRODUCT_BUNDLE_IDENTIFIER)</code> and it will use whatever bundle identifier you already setup.</p><p>Now you should add a new key just under the "URL identifier". Call it "URL Schemes". It will be an array of strings and we open that one and add our URL scheme as the first item. I will call it <code>urlviewer</code>.</p><p>When the app is launched iOS will now register that url scheme for the application. Note that it should be kind of unique, but their is now validation of that in iOS or from Apple. So anyone could basically create an application with the same scheme and you and the user will not be the one that decides which app it will open in. So don't include to much secrets into the URLs.</p><img src="/images/posts/2018-05-21/infoplist.png" width="90%" alt="Info.plist Screenshot" /><p>You can test that the application responds to the url scheme already by running the application, go to home and open safari on the device. Now you enter and submit <code>urlviewer://</code> in the adress field and it will ask you to open the application.</p><p>When we open the application with the URL it will do nothing. So in next step, lets add whatever URL the user typed with that scheme to our url label that we created earlier.</p><h2>Read the URL the user launched the app with</h2><p>To read the URL you need to implement the method <code>application(_:open:options)</code> in the <code>AppDelegate</code>. Write it like below.</p><pre data-language="swift"><code><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">application</span><span class="hljs-params">(<span class="hljs-number">_</span> app: UIApplication,
                 <span class="hljs-keyword">open</span> url: URL,
                 options: [UIApplicationOpenURLOptionsKey : <span class="hljs-keyword">Any</span>] = [:])</span></span> -&gt; <span class="hljs-type">Bool</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre><p>This method will be called when the application is launched with a URL. The URL will be accessible for us in the variable <code>url</code>. So lets take that and add it to our label.</p><p>We can access the root view controller through the window. We only have one controller in the project we can also be sure that it's the <code>ViewController</code>.</p><pre data-language="swift"><code><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">application</span><span class="hljs-params">(<span class="hljs-number">_</span> app: UIApplication,
                 <span class="hljs-keyword">open</span> url: URL,
                 options: [UIApplicationOpenURLOptionsKey : <span class="hljs-keyword">Any</span>] = [:])</span></span> -&gt; <span class="hljs-type">Bool</span> {
    <span class="hljs-keyword">let</span> vc = window?.rootViewController <span class="hljs-keyword">as</span>! <span class="hljs-type">ViewController</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre><p>Now when we have access to the view controller we can set the label text to the same as the url.</p><pre data-language="swift"><code><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">application</span><span class="hljs-params">(<span class="hljs-number">_</span> app: UIApplication,
                 <span class="hljs-keyword">open</span> url: URL,
                 options: [UIApplicationOpenURLOptionsKey : <span class="hljs-keyword">Any</span>] = [:])</span></span> -&gt; <span class="hljs-type">Bool</span> {
    <span class="hljs-keyword">let</span> vc = window?.rootViewController <span class="hljs-keyword">as</span>! <span class="hljs-type">ViewController</span>
    vc.urlLabel.text = url.absoluteString
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre><p>Run the application again. First you will only see the text "Label" as before. But if you go to Safari and enter <code>urlviewer://foobar</code> it will show that instead, and <code>urlviewer://example</code> will change it to that value.</p><p>Hope you did well following along. Please comment and tell me what you are planning to use custom url schemes for.</p></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/ios">ios</a></li><li><a href="/tags/development">development</a></li><li><a href="/tags/custom">custom</a></li></ul></article></div><footer><p><a href="https://standout.se">Work with me</a></p><p><a href="/feed.rss">RSS feed</a></p><p><a href="https://github.com/JohnSundell/Publish">This is a static website built with Publish</a></p><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></footer></body></html>